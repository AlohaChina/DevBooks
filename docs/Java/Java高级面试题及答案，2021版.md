# Java高级面试题及答案，2021版

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)



### 1、什么是线程池？ 为什么要使用它？

创建线程要花费昂贵的资源和时间，如果任务来了才创建线程那么响应时间会变长，而且一个进程能创建的线程数有限。为了避免这些问题，在程序启动的时候就创建若干线程来响应处理，它们被称为线程池，里面的线程叫工作线程。从JDK1.5开始，Java API提供了Executor框架让你可以创建不同的线程池。


### 2、说一下 ArrayList 的优缺点

**ArrayList的优点如下：**

**1、** ArrayList 底层以数组实现，是一种随机访问模式。ArrayList 实现了 RandomAccess 接口，因此查找的时候非常快。

**2、** ArrayList 在顺序添加一个元素的时候非常方便。

**ArrayList 的缺点如下：**

**1、** 删除元素的时候，需要做一次元素复制操作。如果要复制的元素很多，那么就会比较耗费性能。

**2、** 插入元素的时候，也需要做一次元素复制操作，缺点同上。

**3、** ArrayList 比较适合顺序添加、随机访问的场景。


### 3、HashMap中的key，可以是普通对象么？需要什么注意的地方？

Map的key和value都可以是任何类型。但要注意的是，一定要重写它的equals和hashCode方法，否则容易发生内存泄漏。


### 4、redux中如何进行异步操作?

当然,我们可以在`componentDidmount`中直接进行请求无须借助redux.

但是在一定规模的项目中,上述方法很难进行异步流的管理,通常情况下我们会借助redux的异步中间件进行异步处理.

redux异步流中间件其实有很多,但是当下主流的异步中间件只有两种redux-thunk、redux-saga，当然redux-observable可能也有资格占据一席之地,其余的异步中间件不管是社区活跃度还是npm下载量都比较差了.


### 5、Java常用包有那些？

**1、** Java.lang

**2、** Java.io

**3、** Java.sql

**4、** Java.util

**5、** Java.awt

**6、** Java.net

**7、** Java.math


### 6、多线程同步和互斥有几种实现方法，都是什么？

**1、** 线程同步是指线程之间所具有的一种制约关系，一个线程的执行依赖另一个线程的消息，当它没有得到另一个线程的消息时应等待，直到消息到达时才被唤醒。

**2、** 线程互斥是指对于共享的进程系统资源，在各单个线程访问时的排它性。当有若干个线程都要使用某一共享资源时，任何时刻最多只允许一个线程去使用，其它要使用该资源的线程必须等待，直到占用资源者释放该资源。线程互斥可以看成是一种特殊的线程同步。

**1、** 线程间的同步方法大体可分为两类：用户模式和内核模式。顾名思义，内核模式就是指利用系统内核对象的单一性来进行同步，使用时需要切换内核态与用户态，而用户模式就是不需要切换到内核态，只在用户态完成操作。

**2、** 用户模式下的方法有：原子操作（例如一个单一的全局变量），临界区。内核模式下的方法有：事件，信号量，互斥量。


### 7、聚集索引与非聚集索引有什么区别？

所有的索引都是为了更快地检索数据，索引存放在索引页中，数据存放在数据页中，索引以B（balance）树的形式存储

聚集索引：聚集索引用于决定数据表中的物理存储顺序，一张表最多有一个聚集索引。聚集索引的字段值尽量不能修改，因为修改后，因为修改后数据表的物理顺序需要重写排序。通常主键就是聚集索引

非聚集索引：非聚集索引的关键自是index，不会决定表的物理存储顺序，在一张表内最多可以有249个非聚集索引。


### 8、如何找到死锁的线程？

**死锁的线程可以使用 jstack 指令 dump 出 JVM 的线程信息。**

jstack -l <pidthreads.txt

**有时候需要dump出现异常，可以加上 -F 指令，强制导出**

jstack -F -l <pidthreads.txt

如果存在死锁，一般在文件最后会提示找到 deadlock 的数量与线程信息


### 9、假如生产环境CPU占用过高，请谈谈你的分析思路和定位。

这个可真是太太太常见了，不过已经烂大街了。如果你还是一个有经验的开发者，不知道的话，需要反省一下了。

首先，使用`top -H`命令获取占用CPU最高的线程，并将它转化为16进制。

然后，使用`jstack`命令获取应用的栈信息，搜索这个16进制。这样能够方便的找到引起CPU占用过高的具体原因。

如果有条件的话，直接使用`arthas`就行操作就好了，不用再做这些费事费力的操作。


### 10、直接内存是什么？

直接内存不属于运行时数据区，也不是虚拟机规范定义的内存区域，但这部分内存被频繁使用，而且可能导致内存溢出。

JDK1.4 中新加入了 NIO 这种基于通道与缓冲区的 IO，它可以使用 Native 函数库直接分配堆外内存，通过一个堆里的 DirectByteBuffer 对象作为内存的引用进行操作，避免了在 Java 堆和 Native堆来回复制数据。

直接内存的分配不受 Java 堆大小的限制，但还是会受到本机总内存及处理器寻址空间限制，一般配置虚拟机参数时会根据实际内存设置 `-Xmx` 等参数信息，但经常忽略直接内存，使内存区域总和大于物理内存限制，导致动态扩展时出现 OOM。

由直接内存导致的内存溢出，一个明显的特征是在 Heap Dump 文件中不会看见明显的异常，如果发现内存溢出后产生的 Dump 文件很小，而程序中又直接或间接使用了直接内存（典型的间接使用就是 NIO），那么就可以考虑检查直接内存方面的原因。


### 11、在一个静态方法内调用一个非静态成员为什么是非法的？
### 12、React组件通信如何实现?
### 13、什么是JDK？什么是JRE?
### 14、什么是FutureTask?使用ExecutorService启动任务。
### 15、Java 中怎样将 bytes 转换为 long 类型？
### 16、import java和javax有什么区别
### 17、线程与进程的区别？
### 18、说出几条 Java 中方法重载的最佳实践？
### 19、如何自定义一个异常
### 20、GC Roots 有哪些？
### 21、方法区溢出的原因？
### 22、什么时候用断言（assert）？
### 23、请你谈谈对OOM的认识
### 24、同步方法和同步块，哪个是更好的选择？
### 25、JDBC中如何进行事务处理？
### 26、synchronized的作用？
### 27、什么是重排序
### 28、解释 Java 堆空间及 GC？
### 29、静态方法和实例方法有何不同？
### 30、ConcurrentHashMap 和 Hashtable 的区别？
### 31、重排序遵守的规则
### 32、你了解过哪些垃圾收集器？
### 33、可达性分析
### 34、说说自己是怎么使用 synchronized 关键字，在项目中用到了吗
### 35、Java 中，怎么获取一个文件中单词出现的最高频率？
### 36、如何停止一个正在运行的线程？
### 37、重载（Overload）和重写（Override）的区别。重载的方法能否根据返回类型进行区分？
### 38、插入数据时 ArrayList、LinkedList、Vector谁速度较快？
### 39、MinorGC、MajorGC、FullGC 什么时候发生？
### 40、你都有哪些手段用来排查内存溢出？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)


## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
