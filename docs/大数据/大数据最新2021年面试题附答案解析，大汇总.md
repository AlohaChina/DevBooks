# 大数据最新2021年面试题附答案解析，大汇总

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)



### 1、说一下RDD 的Lineage血统

RDD的lineage会记录RDD的元数据信息和转换行为，当该RDD 的部分分区数据丢失时，他可以根据这些信息来重新运算和恢复丢失数据


### 2、hdfs-site.xml的3个主要属性？

dfs.name.dir决定的是元数据存储的路径以及DFS的存储方式（磁盘或是远端）

dfs.data.dir决定的是数据存储的路径

fs.checkpoint.dir用于第二Namenode


### 3、简述hive中的虚拟列的作用？使用它注意事项

三个虚拟列

INPUT_FILE_NAME：mapper任务的输出文件名

BLOCK_OFFSET_INSIDE_FILE：当前全局文件偏移量，对于快压缩文件，就是当前快的文件偏移量，及当前块的第一个字节在文件中的偏移量

ROW_OFFSET_INSIDE_BLOCK，默认不开启，设置hive.exec.rowoffset为true可用，可以用来排查有问题的输入数据


### 4、怎么设置RDD cache

rdd.cache

checkpoint

由于spark生产环境面临的RDD非常多，计算特别耗费时间

为了防止RDD丢失

为了节省更多计算时间


### 5、是否可以自行搭建Hadoop集群？

是的，只要对Hadoop环境足够熟悉，你完全可以这么做。


### 6、为什么会出现hadoop

采用多nn做成联邦，nn是独立的，nn之间不需要相互调用。NN是联合的，同属于一个联邦，作为DN的元数据公共存储


### 7、datanode在什么情况下不会备份

强制关闭或非正常断电时


### 8、谈谈Zookeeper理解

Zookeeper 作为一个分布式的服务框架，主要用来解决分布式集群中应用系统的一致性问题( 解决单点故障问题 )。

Zookeeper 并不是用来专门存储数据的，它的作用主要是用来维护和监控你存储的数据的状态变化，通过监控这些数据状态的变化，从而可以达到基于数据的集群管理

总结: Zookeeper=文件系统+通知机制

spark


### 9、数据本地性是在哪个环节确定的？

具体的task运行在那他机器上，dag划分stage的时候确定的


### 10、shuffle阶段你怎么理解

shuffle过程包括在Map和Reduce两端中。

在Map端的shuffle过程是对Map的结果进行分区（partition）、排序（sort）和分割（spill），然后将属于同一个划分的输出合并在一起

（merge）并写在硬盘上，同时按照不同的划分将结果发送给对应的Reduce（Map输出的划分与Reduce的对应关系由JobTracker确定）。

Reduce端又会将各个Map送来的属于同一个划分的输出进行合并（merge），然后对merge的结果进行排序，最后交给Reduce处理。通俗的讲，就是对Map输出结果先进行分区（partition），如“aaa”经过Partitioner后返回0，也就是这对值应当交由第一个reducer来处理。接下来，

需要将数据写入内存缓冲区中，缓冲区的作用是批量收集map结果，减少磁盘IO的影响。我们的key/value对以及Partition的结果都会被写

入缓冲区。当然写入之前，key与value值都会被序列化成字节数组。这个内存缓冲区是有大小限制的，默认是100MB。当map task的输出结果

很多时，需要在一定条件下将缓冲区中的数据临时写入磁盘，然后重新利用这块缓冲区。这个从内存往磁盘写数据的过程被称为Spill。

Spill可以认为是一个包括Sort和Combiner（Combiner是可选的，用户如果定义就有）的过程。先进行sort可以把缓冲区中一段范围key的数据排在一起，（如果数据多的时候，多次刷新往内存缓冲区中写入的数据可能会有属于相同范围的key，也就是说，多个spill文件中可能会

有统一范围的key，这就是需要下面Map端merge的原因），这里有点绕，具体的介绍可以看下面的详细过程，执行过sort之后，如果用户定义了combiner就会执行combine，然后执行merge操作，接着就是Reduce端。


### 11、介绍一下join操作优化经验？
### 12、mapreduce的原理
### 13、全分布模式又有什么注意点？
### 14、HDFS存储机制
### 15、解释下hbase实时查询原理
### 16、Kafka的消息发送
### 17、Hadoop性能调优？
### 18、Kafka的消费
### 19、请你用最熟悉的语言编写mapreduce，计算第四列每个元素出现的个数
### 20、Sqoop工作原理是什么？
### 21、Hive与关系型数据库的关系？
### 22、Hadoop集群可以运行的3个模式？
### 23、如何解决spark数据倾斜
### 24、Spark的shuffle过程？
### 25、数据导入hive的方式
### 26、如何在浏览器中查找Namenode？
### 27、描述Hbase的rowkey的设计原则
### 28、hive中存放的是什么？
### 29、MapReduce优化经验
### 30、在Hadoop_PID_DIR中，PID代表了什么？
### 31、请描述如何解决Hbase中region太小和region太大带来的结果。
### 32、hive为何分区




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)


## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "大厂面试题")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png"大厂面试题")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
