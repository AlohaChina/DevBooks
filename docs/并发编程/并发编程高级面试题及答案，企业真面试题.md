# 并发编程高级面试题及答案，企业真面试题

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、有什么堆外内存的排查思路？

进程占用的内存，可以使用top命令，看RES段占用的值。如果这个值大大超出我们设定的最大堆内存，则证明堆外内存占用了很大的区域。

使用gdb可以将物理内存dump下来，通常能看到里面的内容。更加复杂的分析可以使用perf工具，或者谷歌开源的gperftools。那些申请内存最多的native函数，很容易就可以找到。


### 2、CMS分为哪几个阶段?

CMS已经弃用。生活美好，时间有限，不建议再深入研究了。如果碰到问题，直接祭出回收过程即可。

**1、** 初始标记

**2、** 并发标记

**3、** 并发预清理

**4、** 并发可取消的预清理

**5、** 重新标记

**6、** 并发清理

由于《深入理解java虚拟机》一书的流行，面试时省略3、4步一般也是没问题的。


### 3、为什么使用Executor框架比使用应用创建和管理线程好？

为什么要使用Executor线程池框架

**1、** 每次执行任务创建线程 new Thread()比较消耗性能，创建一个线程是比较耗时、耗资源的。

**2、** 调用 new Thread()创建的线程缺乏管理，被称为野线程，而且可以无限制的创建，线程之间的相互竞争会导致过多占用系统资源而导致系统瘫痪，还有线程之间的频繁交替也会消耗很多系统资源。

**3、** 直接使用new Thread() 启动的线程不利于扩展，比如定时执行、定期执行、定时定期执行、线程中断等都不便实现。

**使用Executor线程池框架的优点 **

**1、** 能复用已存在并空闲的线程从而减少线程对象的创建从而减少了消亡线程的开销。

**2、** 可有效控制最大并发线程数，提高系统资源使用率，同时避免过多资源竞争。

**3、** 框架中已经有定时、定期、单线程、并发数控制等功能。

综上所述使用线程池框架Executor能更好的管理线程、提供系统资源使用率。


### 4、你对线程优先级的理解是什么？

**1、** 每一个线程都是有优先级的，一般来说，高优先级的线程在运行时会具有优先权，但这依赖于线程调度的实现，这个实现是和操作系统相关的(OS dependent)。我们可以定义线程的优先级，但是这并不能保证高优先级的线程会在低优先级的线程前执行。线程优先级是一个int变量(从1-10)，1代表最低优先级，10代表最高优先级。

**2、** java的线程优先级调度会委托给操作系统去处理，所以与具体的操作系统优先级有关，如非特别需要，一般无需设置线程优先级。


### 5、SWAP会影响性能么？

当操作系统内存不足的时候，会将部分数据写入到SWAP交换分中，但是SWAP的性能是比较低的。如果应用的访问量较大，需要频繁申请和销毁内存，就容易发生卡顿。一般高并发场景下，会禁用SWAP。


### 6、Linux环境下如何查找哪个线程使用CPU最长

**1、** 获取项目的pid，jps或者ps -ef | grep java，这个前面有讲过

**2、** top -H -p pid，顺序不能改变


### 7、说说线程栈

**这里的线程栈应该指的是虚拟机栈吧...**

**1、** JVM规范让每个Java线程拥有自己的独立的JVM栈，也就是Java方法的调用栈。

**2、** 当方法调用的时候，会生成一个栈帧。栈帧是保存在虚拟机栈中的，栈帧存储了方法的局部变量表、操作数栈、动态连接和方法返回地址等信息

**3、** 线程运行过程中，只有一个栈帧是处于活跃状态，称为“当前活跃栈帧”，当前活动栈帧始终是虚拟机栈的栈顶元素。

**4、** 通过jstack工具查看线程状态


### 8、什么是CAS
### 9、什么是本地方法栈
### 10、什么是 CAS
### 11、invokedynamic指令是干什么的？
### 12、模块化编程与热插拔
### 13、你熟悉哪些垃圾收集算法？
### 14、并行和并发有什么区别？
### 15、线程池的执行原理？
### 16、Parallel Scavenge 收集器（多线程复制算法、高效）
### 17、在Java中CycliBarriar和CountdownLatch有什么区别？
### 18、说说类加载的过程
### 19、Java会存在内存泄漏吗？请简单描述。
### 20、什么情况下会发生栈内存溢出？
### 21、为什么wait(), notify()和notifyAll ()必须在同步方法或者同步块中被调用？
### 22、synchronized的作用？
### 23、什么是指令重排序？
### 24、什么是线程组，为什么在Java中不推荐使用？
### 25、在 Java 程序中怎么保证多线程的运行安全？
### 26、如何判断对象可以被回收
### 27、线程池有什么优点？
### 28、什么情况发生栈溢出？
### 29、如何写一段简单的死锁代码？
### 30、如何判断一个对象是否存活
### 31、Java 线程数过多会造成什么异常？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
