# 并发编程最新面试题及答案附答案汇总

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、Thread 类中的 yield 方法有什么作用？

使当前线程从执行状态（运行状态）变为可执行态（就绪状态）。

当前线程到了就绪状态，那么接下来哪个线程会从就绪状态变成执行状态呢？可能是当前线程，也可能是其他线程，看系统的分配了。


### 2、什么是FutureTask?使用ExecutorService启动任务。

在Java并发程序中FutureTask表示一个可以取消的异步运算。它有启动和取消运算、查询运算是否完成和取回运算结果等方法。只有当运算完成的时候结果才能取回，如果运算尚未完成get方法将会阻塞。一个FutureTask对象可以对调用了Callable和Runnable的对象进行包装，由于FutureTask也是调用了Runnable接口所以它可以提交给Executor来执行。


### 3、synchronized的作用？

在Java中，synchronized关键字是用来控制线程同步的，就是在多线程的环境下，控制synchronized代码段不被多个线程同时执行。

synchronized既可以加在一段代码上，也可以加在方法上。


### 4、阻塞队列和非阻塞队列区别

**1、** 当队列阻塞队列为空的时，从队列中获取元素的操作将会被阻塞。

**2、** 或者当阻塞队列是满时，往队列里添加元素的操作会被阻塞。

**3、** 或者试图从空的阻塞队列中获取元素的线程将会被阻塞，直到其他的线程往空的队列插入新的元素。

**4、** 试图往已满的阻塞队列中添加新元素的线程同样也会被阻塞，直到其他的线程使队列重新变得空闲起来


### 5、JVM的引用类型有哪些？

引用内型：

**强引用：**

当内存不足的时候，JVM宁可出现OutOfMemoryError错误停止，也需要进行保存，并且不会将此空间回收。在引用期间和栈有联系就无法被回收

**软引用：**

当内存不足的时候，进行对象的回收处理，往往用于高速缓存中；mybatis就是其中

**弱引用：**

不管内存是否紧张，只要有垃圾了就立即回收

**幽灵引用：**

和没有引用是一样的


### 6、ArrayList和Vector有什么不同之处？

**Vector方法带上了synchronized关键字，是线程同步的**

**1、** ArrayList添加方法源码 ![](https://gitee.com/souyunkutech/souyunku-home/raw/master/images/souyunku-web/2020/5/2/045/42/87_10.png#alt=87%5C_10.png)

**2、** Vector添加源码（加锁了synchronized关键字） ![](https://gitee.com/souyunkutech/souyunku-home/raw/master/images/souyunku-web/2020/5/2/045/42/87_11.png#alt=87%5C_11.png)


### 7、volatile 关键字的作用

**1、** 对于可见性，Java 提供了 volatile 关键字来保证可见性和禁止指令重排。 volatile 提供 happens-before 的保证，确保一个线程的修改能对其他线程是可见的。当一个共享变量被 volatile修饰时，它会保证修改的值会立即被更新到主内存中，当有其他线程需要读取时，它会去内存中读取新值。

**2、** 从实践角度而言，volatile 的一个重要作用就是和 CAS 结合，保证了原子性，详细的可以参见 java.util.concurrent.atomic 包下的类，比如 AtomicInteger。

**3、** volatile 常用于多线程环境下的单次操作(单次读或者单次写)。


### 8、重排序遵守的规则

**as-if-serial：**

**1、** 不管怎么排序，结果不能改变

**2、** 不存在数据依赖的可以被编译器和处理器重排序

**3、** 一个操作依赖两个操作，这两个操作如果不存在依赖可以重排序

**4、** 单线程根据此规则不会有问题，但是重排序后多线程会有问题


### 9、什么叫线程安全？servlet是线程安全吗?

线程安全是编程中的术语，指某个函数、函数库在多线程环境中被调用时，能够正确地处理多个线程之间的共享变量，使程序功能正确完成。

Servlet不是线程安全的，servlet是单实例多线程的，当多个线程同时访问同一个方法，是不能保证共享变量的线程安全性的。

Struts2的action是多实例多线程的，是线程安全的，每个请求过来都会new一个新的action分配给这个请求，请求完成后销毁。

SpringMVC的Controller是线程安全的吗？不是的，和Servlet类似的处理流程。

Struts2好处是不用考虑线程安全问题；Servlet和SpringMVC需要考虑线程安全问题，但是性能可以提升不用处理太多的gc，可以使用ThreadLocal来处理多线程的问题。


### 10、生产上如何配置垃圾收集器的？

首先是内存大小问题，基本上每一个内存区域我都会设置一个上限，来避免溢出问题，比如元空间。通常，堆空间我会设置成操作系统的`2/3`（这是想给其他进程和操作系统预留一些时间），超过8GB的堆优先选用G1。

接下来，我会对JVM进行初步优化。比如根据老年代的对象提升速度，来调整年轻代和老年代之间的比例。

再接下来，就是专项优化，主要判断的依据就是系统容量、访问延迟、吞吐量等。我们的服务是高并发的，所以对STW的时间非常敏感。

我会通过记录详细的GC日志，来找到这个瓶颈点，借用`gceasy`（重点）这样的日志分析工具，很容易定位到问题。之所以选择采用工具，是因为gc日志看起来实在是太麻烦了，gceasy号称是AI学习分析问题，可视化做的较好。


### 11、什么是类加载器，类加载器有哪些？
### 12、什么是并发容器的实现？
### 13、工作中常用的 JVM 配置参数有哪些？
### 14、在监视器(Monitor)内部，是如何做线程同步的？程序应该做哪种级别的同步？
### 15、请说出与线程同步以及线程调度相关的方法。
### 16、什么是多线程
### 17、并发编程三要素？
### 18、什么是上下文切换?
### 19、谈谈 JVM 中的常量池
### 20、创建线程的三种方式的对比？
### 21、JVM 选项 -XX:+UseCompressedOops 有什么作用？为什么要使用
### 22、当一个线程进入一个对象的 synchronized 方法 A 之后，其它线程是否可进入此对象的 synchronized 方法 B？
### 23、为什么使用Executor框架？
### 24、如何判断一个对象是否存活
### 25、什么是阻塞式方法？
### 26、Java 如何实现多线程之间的通讯和协作？
### 27、Java中的ReadWriteLock是什么？
### 28、newSingleThreadExecutor
### 29、谈谈你知道的垃圾回收算法
### 30、CopyOnWriteArrayList可以用于什么应用场景？
### 31、JVM 数据运行区，哪些会造成 OOM 的情况？
### 32、为什么 wait(), notify()和 notifyAll()必须在同步方法或者同步块中被调用？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
