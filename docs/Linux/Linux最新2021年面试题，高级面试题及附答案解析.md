# Linux最新2021年面试题，高级面试题及附答案解析

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)



### 1、同步时间命令

```
ntpdate ntp1.aliyun.com
```


### 2、Unix和Linux有什么区别？

Linux和Unix都是功能强大的操作系统，都是应用广泛的服务器操作系统，有很多相似之处，甚至有一部分人错误地认为Unix和Linux操作系统是一样的，然而，事实并非如此，以下是两者的区别。

**1、开源性**

Linux是一款开源操作系统，不需要付费，即可使用；Unix是一款对源码实行知识产权保护的传统商业软件，使用需要付费授权使用。

**2、跨平台性**

Linux操作系统具有良好的跨平台性能，可运行在多种硬件平台上；Unix操作系统跨平台性能较弱，大多需与硬件配套使用。

**3、可视化界面**

Linux除了进行命令行操作，还有窗体管理系统；Unix只是命令行下的系统。

**4、硬件环境**

Linux操作系统对硬件的要求较低，安装方法更易掌握；Unix对硬件要求比较苛刻，按照难度较大。

**5、用户群体**

Linux的用户群体很广泛，个人和企业均可使用；Unix的用户群体比较窄，多是安全性要求高的大型企业使用，如银行、电信部门等，或者Unix硬件厂商使用，如Sun等

相比于Unix操作系统，Linux操作系统更受广大计算机爱好者的喜爱，主要原因是Linux操作系统具有Unix操作系统的全部功能，并且能够在普通PC计算机上实现全部的Unix特性，开源免费的特性，更容易普及使用！


### 3、如何把一个进程放到后台运行？

```
[root@iz2ze76ybn73dvwmdij06zz ~]# ./sleep.sh &
```

此时，进程并不能被Ctrl + c 中断。


### 4、发现一个病毒文件你删了他又自动创建怎么解决

公司的内网某台linux服务器流量莫名其妙的剧增,用iftop查看有连接外网的情况

针对这种情况一般重点查看netstat连接的外网ip和端口。

用lsof -p pid可以查看到具体是那些进程，哪些文件

经查勘发现/root下有相关的配置conf.n hhe两个可疑文件，rm -rf后不到一分钟就自动生成了

由此推断是某个母进程产生的这些文件。所以找到母进程就是找到罪魁祸首

查杀病毒最好断掉外网访问，还好是内网服务器，可以通过内网访问

断了内网，病毒就失去外联的能力，杀掉它就容易的多

怎么找到呢，找了半天也没有看到蛛丝马迹，没办法只有ps axu一个个排查

方法是查看可以的用户和和系统相似而又不是的冒牌货，果然，看到了如下进程可疑

看不到图片就是/usr/bin/.sshd

于是我杀掉所有.sshd相关的进程，然后直接删掉.sshd这个可执行文件

然后才删掉了文章开头提到的自动复活的文件

总结一下，遇到这种问题，如果不是太严重，尽量不要重装系统

一般就是先断外网，然后利用iftop,ps,netstat,chattr,lsof,pstree这些工具顺藤摸瓜

一般都能找到元凶。但是如果遇到诸如此类的问题

/boot/efi/EFI/redhat/grub.efi: Heuristics.Broken.Executable FOUND，个人觉得就要重装系统了


### 5、一台 Linux 系统初始化环境后需要做一些什么安全工作？

添加普通用户登陆，禁止 root 用户登陆，更改 SSH 端口号。

> 修改 SSH 端口不一定绝对哈。当然，如果要暴露在外网，建议改下。


**1、** 服务器使用密钥登陆，禁止密码登陆。

**2、** 开启防火墙，关闭 SElinux ，根据业务需求设置相应的防火墙规则。

**3、** 装 fail2ban 这种防止 SSH 暴力破击的软件。

**4、** 设置只允许公司办公网出口 IP 能登陆服务器(看公司实际需要)

> 也可以安装 VPN 等软件，只允许连接 VPN 到服务器上。


**1、** 修改历史命令记录的条数为 10 条。

**2、** 只允许有需要的服务器可以访问外网，其它全部禁止。

**3、** 做好软件层面的防护。

**4、** 设置 nginx_waf 模块防止 SQL 注入。

**5、** 把 Web 服务使用 www 用户启动，更改网站目录的所有者和所属组为 www


### 6、讲述一下LVS三种模式的工作过程？

LVS 有三种负载均衡的模式，分别是VS/NAT（nat 模式） VS/DR(路由模式) VS/TUN（隧道模式）

**一、NAT模式（VS-NAT）**

**1、** 原理：就是把客户端发来的数据包的IP头的目的地址，在负载均衡器上换成其中一台RS的IP地址

**2、** 并发至此RS来处理,RS处理完后把数据交给负载均衡器,负载均衡器再把数据包原IP地址改为自己的IP

**3、** 将目的地址改为客户端IP地址即可期间,无论是进来的流量,还是出去的流量,都必须经过负载均衡器

**4、** 优点：集群中的物理服务器可以使用任何支持TCP/IP操作系统，只有负载均衡器需要一个合法的IP地址

**5、** 缺点：扩展性有限。当服务器节点（普通PC服务器）增长过多时,负载均衡器将成为整个系统的瓶颈

**6、** 因为所有的请求包和应答包的流向都经过负载均衡器。当服务器节点过多时

**7、** 大量的数据包都交汇在负载均衡器那，速度就会变慢！

**二、IP隧道模式（VS-TUN）**

**1、** 原理：首先要知道，互联网上的大多Internet服务的请求包很短小，而应答包通常很大

**2、** 那么隧道模式就是，把客户端发来的数据包，封装一个新的IP头标记(仅目的IP)发给RS

**3、** RS收到后,先把数据包的头解开,还原数据包,处理后,直接返回给客户端,不需要再经过

**4、** 负载均衡器。注意,由于RS需要对负载均衡器发过来的数据包进行还原,所以说必须支持

**5、** IPTUNNEL协议，所以,在RS的内核中,必须编译支持IPTUNNEL这个选项

**6、** 优点：负载均衡器只负责将请求包分发给后端节点服务器，而RS将应答包直接发给用户

**7、** 所以，减少了负载均衡器的大量数据流动，负载均衡器不再是系统的瓶颈，就能处理很巨大的请求量

**8、** 这种方式，一台负载均衡器能够为很多RS进行分发。而且跑在公网上就能进行不同地域的分发。

**9、** 缺点：隧道模式的RS节点需要合法IP，这种方式需要所有的服务器支持”IP Tunneling”

**10、** (IP Encapsulation)协议，服务器可能只局限在部分Linux系统上

**三、直接路由模式（VS-DR）**

**1、** 原理：负载均衡器和RS都使用同一个IP对外服务但只有DR对ARP请求进行响应

**2、** 所有RS对本身这个IP的ARP请求保持静默也就是说,网关会把对这个服务IP的请求全部定向给DR

**3、** 而DR收到数据包后根据调度算法,找出对应的RS,把目的MAC地址改为RS的MAC（因为IP一致）

**4、** 并将请求分发给这台RS这时RS收到这个数据包,处理完成之后，由于IP一致，可以直接将数据返给客户

**5、** 则等于直接从客户端收到这个数据包无异,处理后直接返回给客户端

**6、** 由于负载均衡器要对二层包头进行改换,所以负载均衡器和RS之间必须在一个广播域

**7、** 也可以简单的理解为在同一台交换机上

**8、** 优点：和TUN（隧道模式）一样，负载均衡器也只是分发请求，应答包通过单独的路由方法返回给客户端

**9、** 与VS-TUN相比，VS-DR这种实现方式不需要隧道结构，因此可以使用大多数操作系统做为物理服务器。

**10、** 缺点：（不能说缺点，只能说是不足）要求负载均衡器的网卡必须与物理网卡在一个物理段上。


### 7、Linux的基本组件是什么？

就像任何其他典型的操作系统一样，Linux拥有所有这些组件：内核，shell和GUI，系统实用程序和应用程序。Linux比其他操作系统更具优势的是每个方面都附带其他功能，所有代码都可以免费下载。


### 8、| 管道命令（把多个命令组合起来使用）

```
管道命令的语法：命令1 | 命令2 | 命令3。
```


### 9、Linux系统中病毒怎么解决

1）最简单有效的方法就是重装系统

2）要查的话就是找到病毒文件然后删除

中毒之后一般机器cpu、内存使用率会比较高

机器向外发包等异常情况，排查方法简单介绍下

top 命令找到cpu使用率最高的进程

一般病毒文件命名都比较乱，可以用 ps aux 找到病毒文件位置

rm -f ?命令删除病毒文件

检查计划任务、开机启动项和病毒文件目录有无其他可以文件等

3）由于即使删除病毒文件不排除有潜伏病毒，所以最好是把机器备份数据之后重装一下


### 10、现在给你三百台服务器，你怎么对他们进行管理？

管理3百台服务器的方式：

**1、** 设定跳板机，使用统一账号登录，便于安全与登录的考量。

**2、** 使用salt、ansiable、puppet进行系统的统一调度与配置的统一管理。

**3、** 建立简单的服务器的系统、配置、应用的cmdb信息管理。便于查阅每台服务器上的各种信息记录。


### 11、删除文件用哪个命令？如果需要连目录及目录下文件一块删除呢？删除空文件夹用什么命令？
### 12、查看已有别名?建立属于自己的别名?
### 13、查看时间命令：
### 14、说说TCP/IP的七层模型
### 15、实时监测进程
### 16、简述raid0 raid1 raid5 三种工作模式的工作原理及特点
### 17、ifconfig命令
### 18、使用tcpdump监听主机为192.168.1.1，tcp端口为80的数据，同时将输出结果保存输出到tcpdump.log
### 19、cat （concatenate：显示或把多个文本文件连接起来）查看文件命令（可以快捷查看当前文件的内容）（不能快速定位到最后一页）
### 20、如何切换目录？
### 21、什么是网站数据库注入？
### 22、lvs/nginx/haproxy优缺点
### 23、交互方式
### 24、查看各类环境变量用什么命令?
### 25、如何查看命令历史记录?
### 26、哪个文件包含了主机名和ip的映射关系?
### 27、请列出你了解的web服务器负载架构
### 28、终止进程用什么命令? 带什么参数?
### 29、创建文件？创建目录？批量创建?




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)


## 其他，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "大厂面试题")](https://souyunku.lanzous.com/b0alp9b9g "大厂面试题")

## 关注公众号：架构师专栏，回复：“面试题”，即可

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/jiagoushi.png "架构师专栏")](https://souyunku.lanzous.com/b0alp9b9g "架构师专栏")

## 关注公众号：架构师专栏，回复：“面试题”，即可
