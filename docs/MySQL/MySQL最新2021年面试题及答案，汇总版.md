# MySQL最新2021年面试题及答案，汇总版

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png)



### 1、SQL语句主要分为哪几类

**1、** 数据定义语言DDL（Data Ddefinition Language）CREATE，DROP，ALTER

主要为以上操作 即对逻辑结构等有操作的，其中包括表结构，视图和索引。

**2、** 数据查询语言DQL（Data Query Language）SELECT

这个较为好理解 即查询操作，以select关键字。各种简单查询，连接查询等 都属于DQL。

**3、** 数据操纵语言DML（Data Manipulation Language）INSERT，UPDATE，DELETE

主要为以上操作 即对数据进行操作的，对应上面所说的查询操作 DQL与DML共同构建了多数初级程序员常用的增删改查操作。而查询是较为特殊的一种 被划分到DQL中。

**4、** 数据控制功能DCL（Data Control Language）GRANT，REVOKE，COMMIT，ROLLBACK

主要为以上操作 即对数据库安全性完整性等有操作的，可以简单的理解为权限控制等。


### 2、读写分离常见方案？

**1、** 应用程序根据业务逻辑来判断，增删改等写操作命令发给主库，查询命令发给备库。

**2、** 利用中间件来做代理，负责对数据库的请求识别出读还是写，并分发到不同的数据库中。（如：amoeba，MySQL-proxy）


### 3、数据库自增主键可能遇到什么问题。

使用自增主键对数据库做分库分表，可能出现诸如主键重复等的问题。解决方案的话，简单点的话可以考虑使用UUID哈

自增主键会产生表锁，从而引发问题

自增主键可能用完问题。


### 4、什么是死锁？怎么解决？

死锁是指两个或多个事务在同一资源上相互占用，并请求锁定对方的资源，从而导致恶性循环的现象。看图形象一点，如下：

![](https://user-gold-cdn.xitu.io/2020/5/23/17241317342078b9?w=641&h=575&f=png&s=133003#alt=)

死锁有四个必要条件：互斥条件，请求和保持条件，环路等待条件，不剥夺条件。

**解决死锁思路，一般就是切断环路，尽量避免并发形成环路。**

**1、** 如果不同程序会并发存取多个表，尽量约定以相同的顺序访问表，可以大大降低死锁机会。

**2、** 在同一个事务中，尽可能做到一次锁定所需要的所有资源，减少死锁产生概率；

**3、** 对于非常容易产生死锁的业务部分，可以尝试使用升级锁定颗粒度，通过表级锁定来减少死锁产生的概率；

**4、** 如果业务处理不好可以用分布式事务锁或者使用乐观锁

**5、** 死锁与索引密不可分，解决索引问题，需要合理优化你的索引，



### 5、关心过业务系统里面的sql耗时吗？统计过慢查询吗？对慢查询都怎么优化过？

在业务系统中，除了使用主键进行的查询，其他的我都会在测试库上测试其耗时，慢查询的统计主要由运维在做，会定期将业务中的慢查询反馈给我们。

慢查询的优化首先要搞明白慢的原因是什么？ 是查询条件没有命中索引？是load了不需要的数据列？还是数据量太大？

**所以优化也是针对这三个方向来的，**

**1、** 首先分析语句，看看是否load了额外的数据，可能是查询了多余的行并且抛弃掉了，可能是加载了许多结果中并不需要的列，对语句进行分析以及重写。

**2、** 分析语句的执行计划，然后获得其使用索引的情况，之后修改语句或者修改索引，使得语句可以尽可能的命中索引。

**3、** 如果对语句的优化已经无法进行，可以考虑表中的数据量是否太大，如果是的话可以进行横向或者纵向的分表。


### 6、怎么创建索引的，有什么好处，有哪些分类

**1、** 创建索引的语法：create index depe_unique_ide on depe(dept_no) tablespace idx_

**2、** 创建索引可以增加查询速度，唯一索引可以保证数据库列的一致性，可以确定表与表之间的连接

**3、** 索引的分类： 逻辑分类：单列索引，复合索引，唯一索引，非唯一索引，函数索引 物理分类：B数索引，反向键索引，位图索引


### 7、B树和B+树的区别，数据库为什么使用B+树而不是B树？

**1、** 在B树中，键和值即存放在内部节点又存放在叶子节点；在B+树中，内部节点只存键，叶子节点则同时存放键和值。

**2、** B+树的叶子节点有一条链相连，而B树的叶子节点各自独立的。

**1、** B+树索引的所有数据均存储在叶子节点，而且数据是按照顺序排列的，链表连着的。那么B+树使得范围查找，排序查找，分组查找以及去重查找变得异常简单。.

**2、** B+树非叶子节点上是不存储数据的，仅存储键值，而B树节点中不仅存储键值，也会存储数据。innodb中页的默认大小是16KB，如果不存储数据，那么就会存储更多的键值，相应的树的阶数（节点的子节点树）就会更大，树就会更矮更胖，如此一来我们查找数据进行磁盘的IO次数有会再次减少，数据查询的效率也会更快.


### 8、什么叫视图？游标是什么？

视图是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，视图通常是有一个表或者多个表的行或列的子集。对视图的修改不影响基本表。它使得我们获取数据更容易，相比多表查询。

游标：是对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前行检索一行或多行。可以对结果集当前行做修改。一般不使用游标，但是需要逐条处理数据的时候，游标显得十分重要。


### 9、为什么要使用数据库

**数据保存在内存**

**优点：**

存取速度快

**缺点：**

数据不能永久保存

**数据保存在文件**

**优点：**

数据永久保存

**缺点：**

**1、** 速度比内存操作慢，频繁的IO操作。

**2、** 查询数据不方便

**数据保存在数据库**

**1、** 数据永久保存

**2、** 使用SQL语句，查询方便效率高。

**3、** 管理数据方便


### 10、MySQL中DATETIME和TIMESTAMP的区别

**存储精度都为秒**

**区别：**

**1、** DATETIME 的日期范围是 1001——9999 年；TIMESTAMP 的时间范围是 1970——2038 年

**2、** DATETIME 存储时间与时区无关；TIMESTAMP 存储时间与时区有关，显示的值也依赖于时区

**3、** DATETIME 的存储空间为 8 字节；TIMESTAMP 的存储空间为 4 字节

**4、** DATETIME 的默认值为 null；TIMESTAMP 的字段默认不为空(not null)，默认值为当前时间(CURRENT_TIMESTAMP)


### 11、varchar与char的区别
### 12、MySQL有哪些数据类型
### 13、按照锁的粒度分，数据库锁有哪些呢？锁机制与InnoDB锁算法
### 14、为什么要使用数据库
### 15、Innodb的事务与日志的实现方式
### 16、简单描述MySQL中，索引，主键，唯一索引，联合索引的区别，对数据库的性能有什么影响（从读写两方面）
### 17、关心过业务系统里面的sql耗时吗？统计过慢查询吗？对慢查询都怎么优化过？
### 18、什么是存储过程？有哪些优缺点？
### 19、limit 1000000 加载很慢的话，你是怎么解决的呢？
### 20、索引算法有哪些？
### 21、大表数据查询，怎么优化
### 22、你们数据库是否支持emoji表情存储，如果不支持，如何操作？
### 23、如何定位及优化SQL语句的性能问题？创建的索引有没有被使用到?或者说怎么才可以知道这条语句运行很慢的原因？
### 24、drop、delete与truncate的区别
### 25、InnoDB与MyISAM的区别
### 26、读写分离常见方案？
### 27、说说MySQL 的基础架构图
### 28、优化器的执行过程？
### 29、什么是基本表？什么是视图？
### 30、试述视图的优点？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)


## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
