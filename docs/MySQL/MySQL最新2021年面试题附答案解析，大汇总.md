# MySQL最新2021年面试题附答案解析，大汇总

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、LIKE声明中的％和_是什么意思？

％对应于0个或更多字符，_只是LIKE语句中的一个字符。

**如何在Unix和MySQL时间戳之间进行转换？**

UNIX_TIMESTAMP是从MySQL时间戳转换为Unix时间戳的命令

FROM_UNIXTIME是从Unix时间戳转换为MySQL时间戳的命令


### 2、MySQL 索引使用有哪些注意事项呢？

可以从三个维度回答这个问题：索引哪些情况会失效，索引不适合哪些场景，索引规则

**索引哪些情况会失效**

**1、** 查询条件包含or，可能导致索引失效

**2、** 如何字段类型是字符串，where时一定用引号括起来，否则索引失效

**3、** like通配符可能导致索引失效。

**4、** 联合索引，查询时的条件列不是联合索引中的第一个列，索引失效。

**5、** 在索引列上使用MySQL的内置函数，索引失效。

**6、** 对索引列运算（如，+、-、*、/），索引失效。

**7、** 索引字段上使用（！= 或者 < >，not in）时，可能会导致索引失效。

**8、** 索引字段上使用is null， is not null，可能导致索引失效。

**9、** 左连接查询或者右连接查询查询关联的字段编码格式不一样，可能导致索引失效。

**10、** MySQL估计使用全表扫描要比使用索引快,则不使用索引。

**索引不适合哪些场景**

**1、** 数据量少的不适合加索引

**2、** 更新比较频繁的也不适合加索引

**3、** 区分度低的字段不适合加索引（如性别）

**索引的一些潜规则**

**1、** 覆盖索引

2、回表

**3、** 索引数据结构（B+树）

**4、** 最左前缀原则

**5、** 索引下推


### 3、count(1)、count(*) 与 count(列名) 的区别？

**1、** count(*)包括了所有的列，相当于行数，在统计结果的时候，不会忽略列值为NULL

**2、** count(1)包括了忽略所有列，用1代表代码行，在统计结果的时候，不会忽略列值为NULL

**3、** count(列名)只包括列名那一列，在统计结果的时候，会忽略列值为空（这里的空不是只空字符串或者0，而是表示null）的计数，即某个字段值为NULL时，不统计。


### 4、MySQL中有哪几种锁？

1.表级锁：开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高，并发度最低。

2.行级锁：开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低，并发度也最高。

3\、页面锁：开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般。


### 5、BLOB和TEXT有什么区别？

BLOB是一个二进制对象，可以容纳可变数量的数据。TEXT是一个不区分大小写的BLOB。

BLOB和TEXT类型之间的唯一区别在于对BLOB值进行排序和比较时区分大小写，对TEXT值不区分大小写。


### 6、创建索引的三种方式

在执行CREATE TABLE时创建索引

```
CREATE TABLE `employee` (
  `id` int(11) NOT NULL,
  `name` varchar(255) DEFAULT NULL,
  `age` int(11) DEFAULT NULL,
  `date` datetime DEFAULT NULL,
  `sex` int(1) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_name` (`name`) USING BTREE
) ENGINE=InnoDB DEFAULT CHARSET=utf8;
```

使用ALTER TABLE命令添加索引

```
ALTER TABLE table_name ADD INDEX index_name (column);
```

使用CREATE INDEX命令创建

```
CREATE INDEX index_name ON table_name (column);
```


### 7、MySQL的binlog有有几种录入格式？分别有什么区别？

有三种格式，statement，row和mixed。

**1、** statement模式下，每一条会修改数据的sql都会记录在binlog中。不需要记录每一行的变化，减少了binlog日志量，节约了IO，提高性能。由于sql的执行是有上下文的，因此在保存的时候需要保存相关的信息，同时还有一些使用了函数之类的语句无法被记录复制。

**2、** row级别下，不记录sql语句上下文相关信息，仅保存哪条记录被修改。记录单元为每一行的改动，基本是可以全部记下来但是由于很多操作，会导致大量行的改动(比如alter table)，因此这种模式的文件保存的信息太多，日志量太大。

**3、** mixed，一种折中的方案，普通操作使用statement记录，当无法使用statement的时候使用row。

此外，新版的MySQL中对row级别也做了一些优化，当表结构发生变化的时候，会记录语句而不是逐行记录


### 8、什么是通用SQL函数？

**1、** CONCAT(A, B) – 连接两个字符串值以创建单个字符串输出。通常用于将两个或多个字段合并为一个字段。

**2、** FORMAT(X, D)- 格式化数字X到D有效数字。

**3、** CURRDATE(), CURRTIME()- 返回当前日期或时间。

**4、** NOW（） – 将当前日期和时间作为一个值返回。

**5、** MONTH（），DAY（），YEAR（），WEEK（），WEEKDAY（） – 从日期值中提取给定数据。

**6、** HOUR（），MINUTE（），SECOND（） – 从时间值中提取给定数据。

**7、** DATEDIFF（A，B） – 确定两个日期之间的差异，通常用于计算年龄

**8、** SUBTIMES（A，B） – 确定两次之间的差异。

**9、** FROMDAYS（INT） – 将整数天数转换为日期值。


### 9、主键索引与唯一索引的区别

**1、** 主键是一种约束，唯一索引是一种索引，两者在本质上是不同的。

**2、** 主键创建后一定包含一个唯一性索引，唯一性索引并不一定就是主键。

**3、** 唯一性索引列允许空值，而主键列不允许为空值。

**4、** 主键列在创建时，已经默认为空值 ++ 唯一索引了。

**5、** 一个表最多只能创建一个主键，但可以创建多个唯一索引。

**6、** 主键更适合那些不容易更改的唯一标识，如自动递增列、身份证号等。

**7、** 主键可以被其他表引用为外键，而唯一索引不能。 ？


### 10、日常工作中你是怎么优化SQL的？

**可以从这几个维度回答这个问题：**

**1、** 加索引

**2、** 避免返回不必要的数据

**3、** 适当分批量进行

**4、** 优化sql结构

**5、** 分库分表

**6、** 读写分离


### 11、简单描述MySQL中，索引，主键，唯一索引，联合索引的区别，对数据库的性能有什么影响（从读写两方面）
### 12、MySQL数据库cpu飙升的话，要怎么处理呢？
### 13、最左匹配原则？
### 14、如何优化查询过程中的数据访问
### 15、MYSQL的主从延迟，你怎么解决？
### 16、实践中如何优化MySQL
### 17、MVCC熟悉吗，它的底层原理？
### 18、视图有哪些特点？
### 19、SQL注入漏洞产生的原因？如何防止？
### 20、varchar(50)中50的涵义
### 21、select for update有什么含义，会锁表还是锁行还是其他。
### 22、关心过业务系统里面的sql耗时吗？统计过慢查询吗？对慢查询都怎么优化过？
### 23、简述在MySQL数据库中MyISAM和InnoDB的区别
### 24、如何删除索引
### 25、什么叫视图？游标是什么？
### 26、如何选择合适的分布式主键方案呢？
### 27、MyISAM Static和MyISAM Dynamic有什么区别？
### 28、MySQL的复制原理以及流程
### 29、索引设计的原则？
### 30、你们数据库是否支持emoji表情存储，如果不支持，如何操作？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
