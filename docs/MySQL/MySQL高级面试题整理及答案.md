# MySQL高级面试题整理及答案

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、怎么查询SQL语句是否使用了索引查询？

使用explain查询SQL语句的执行计划，通过执行计划来分析索引的使用情况。


### 2、MySQL中都有哪些触发器？

MySQL 数据库中有六种触发器：

**1、** Before Insert

**2、** After Insert

**3、** Before Update

**4、** After Update

**5、** Before Delete

**6、** After Delete


### 3、SQL优化的一般步骤是什么，怎么看执行计划（explain），如何理解其中各个字段的含义。

**1、** show status 命令了解各种 sql 的执行频率

**2、** 通过慢查询日志定位那些执行效率较低的 sql 语句

**3、** explain 分析低效 sql 的执行计划（这点非常重要，日常开发中用它分析Sql，会大大降低Sql导致的线上事故）


### 4、MySQL中都有哪些触发器？

**在MySQL数据库中有如下六种触发器：**

**1、** Before Insert

**2、** After Insert

**3、** Before Update

**4、** After Update

**5、** Before Delete

**6、** After Delete


### 5、数据库索引的原理，为什么要用 B+树，为什么不用二叉树？

可以从几个维度去看这个问题，查询是否够快，效率是否稳定，存储数据多少，以及查找磁盘次数，为什么不是二叉树，为什么不是平衡二叉树，为什么不是B树，而偏偏是B+树呢？

**「为什么不是一般二叉树？」**

如果二叉树特殊化为一个链表，相当于全表扫描。平衡二叉树相比于二叉查找树来说，查找效率更稳定，总体的查找速度也更快。

**「为什么不是平衡二叉树呢？」**

我们知道，在内存比在磁盘的数据，查询效率快得多。如果树这种数据结构作为索引，那我们每查找一次数据就需要从磁盘中读取一个节点，也就是我们说的一个磁盘块，但是平衡二叉树可是每个节点只存储一个键值和数据的，如果是B树，可以存储更多的节点数据，树的高度也会降低，因此读取磁盘的次数就降下来啦，查询效率就快啦。

**「那为什么不是B树而是B+树呢？」**

**1、** B+树非叶子节点上是不存储数据的，仅存储键值，而B树节点中不仅存储键值，也会存储数据。innodb中页的默认大小是16KB，如果不存储数据，那么就会存储更多的键值，相应的树的阶数（节点的子节点树）就会更大，树就会更矮更胖，如此一来我们查找数据进行磁盘的IO次数有会再次减少，数据查询的效率也会更快。

**2、** B+树索引的所有数据均存储在叶子节点，而且数据是按照顺序排列的，链表连着的。那么B+树使得范围查找，排序查找，分组查找以及去重查找变得异常简单。


### 6、什么是数据库连接池?为什么需要数据库连接池呢?

「连接池基本原理：」 数据库连接池原理：在内部对象池中，维护一定数量的数据库连接，并对外暴露数据库连接的获取和返回方法。

**「应用程序和数据库建立连接的过程：」**

**1、** 通过TCP协议的三次握手和数据库服务器建立连接

**2、** 发送数据库用户账号密码，等待数据库验证用户身份

**3、** 完成身份验证后，系统可以提交SQL语句到数据库执行

**4、** 把连接关闭，TCP四次挥手告别。

**「数据库连接池好处：」**

**1、** 资源重用 (连接复用)

**2、** 更快的系统响应速度

**3、** 新的资源分配手段

**4、** 统一的连接管理，避免数据库连接泄漏


### 7、InnoDB引擎中的索引策略，了解过吗？

**1、** 覆盖索引

**2、** 最左前缀原则

**3、** 索引下推

索引下推优化是 MySQL 5.6 引入的， 可以在索引遍历过程中，对索引中包含的字段先做判断，直接过滤掉不满足条件的记录，减少回表次数。


### 8、SQL的执行顺序

**1、** FROM：将数据从硬盘加载到数据缓冲区，方便对接下来的数据进行操作。

**2、** WHERE：从基表或视图中选择满足条件的元组。（不能使用聚合函数）

**3、** JOIN（如right left 右连接-------从右边表中读取某个元组，并且找到该元组在左边表中对应的元组或元组集）

**4、** ON：join on实现多表连接查询，推荐该种方式进行多表查询，不使用子查询。

**5、** GROUP BY：分组，一般和聚合函数一起使用。

**6、** HAVING：在元组的基础上进行筛选，选出符合条件的元组。（一般与GROUP BY进行连用）

**7、** SELECT：查询到得所有元组需要罗列的哪些列。

**8、** DISTINCT：去重的功能。

**9、** UNION：将多个查询结果合并（默认去掉重复的记录）。

**10、**  ORDER BY：进行相应的排序。

**11、**  LIMIT 1：显示输出一条数据记录（元组）


### 9、说说MySQL 的基础架构图

MySQL逻辑架构图主要分三层：

**1、** 第一层负责连接处理，授权认证，安全等等

**2、** 第二层负责编译并优化SQL

**3、** 第三层是存储引擎。


### 10、MySQL有关权限的表都有哪几个？

MySQL服务器通过权限表来控制用户对数据库的访问，权限表存放在MySQL数据库里，由MySQL_install_db脚本初始化。这些权限表分别user，db，table_priv，columns_priv和host。


### 11、数据库三大范式是什么
### 12、优化器的执行过程？
### 13、使用B+树的好处
### 14、数据库自增主键可能遇到什么问题。
### 15、如果一个表有一列定义为TIMESTAMP，将发生什么？
### 16、InnoDB与MyISAM的区别
### 17、如何通俗地理解三个范式？
### 18、使用悲观锁
### 19、什么是触发器？触发器的使用场景有哪些？
### 20、MYSQL数据库服务器性能分析的方法命令有哪些?
### 21、MySQL5.6和MySQL5.7对索引做了哪些优化？
### 22、聚集索引与非聚集索引的区别
### 23、SQL语句优化的一些方法
### 24、在高并发情况下，如何做到安全的修改同一行数据？
### 25、使用索引查询一定能提高查询的性能吗？为什么
### 26、隔离级别与锁的关系
### 27、主键使用自增ID还是UUID，为什么？
### 28、你可以用什么来确保表格里的字段只接受特定范围里的值?
### 29、SQL语句主要分为哪几类




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
