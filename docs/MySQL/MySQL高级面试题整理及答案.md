# MySQL高级面试题整理及答案

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、Myql中的事务回滚机制概述

事务是用户定义的一个数据库操作序列，这些操作要么全做要么全不做，是一个不可分割的工作单位，事务回滚是指将该事务已经完成的对数据库的更新操作撤销。

要同时修改数据库中两个不同表时，如果它们不是一个事务的话，当第一个表修改完，可能第二个表修改过程中出现了异常而没能修改，此时就只有第二个表依旧是未修改之前的状态，而第一个表已经被修改完毕。而当你把它们设定为一个事务的时候，当第一个表修改完，第二表修改出现异常而没能修改，第一个表和第二个表都要回到未修改的状态，这就是所谓的事务回滚


### 2、优化特定类型的查询语句

**平时积累吧：**

**1、** 比如使用select 具体字段代替 select *

**2、** 使用count(*) 而不是count(列名)

**3、** 在不影响业务的情况，使用缓存

**4、** explain 分析你的SQL


### 3、100.MySQL一条SQL加锁分析

一条SQL加锁，可以分9种情况进行：

**1、** 组合一：id列是主键，RC隔离级别

**2、** 组合二：id列是二级唯一索引，RC隔离级别

**3、** 组合三：id列是二级非唯一索引，RC隔离级别

**4、** 组合四：id列上没有索引，RC隔离级别

**5、** 组合五：id列是主键，RR隔离级别

**6、** 组合六：id列是二级唯一索引，RR隔离级别

**7、** 组合七：id列是二级非唯一索引，RR隔离级别

**8、** 组合八：id列上没有索引，RR隔离级别

**9、** 组合九：Serializable隔离级别


### 4、优化器的执行过程？

**1、** 根据搜索条件，找出可能使用的索引。

**2、** 计算全表扫描的代价。

**3、** 计算使用不同索引执行查询的代价。

**4、** 对比各种执行方案的代价，找出成本最低的一个。


### 5、为什么索引结构默认使用B+Tree，而不是Hash，二叉树，红黑树？

B+tree：因为B树不管叶子节点还是非叶子节点，都会保存数据，这样导致在非叶子节点中能保存的指针数量变少（有些资料也称为扇出），指针少的情况下要保存大量数据，只能增加树的高度，导致IO操作变多，查询性能变低；

Hash：虽然可以快速定位，但是没有顺序，IO复杂度高。

二叉树：树的高度不均匀，不能自平衡，查找效率跟数据有关（树的高度），并且IO代价高。

红黑树：树的高度随着数据量增加而增加，IO代价高。


### 6、数据库中的事务是什么?

事务（transaction）是作为一个单元的一组有序的数据库操作。如果组中的所有操作都成功，则认为事务成功，即使只有一个操作失败，事务也不成功。如果所有操作完成，事务则提交，其修改将作用于所有其他数据库进程。如果一个操作失败，则事务将回滚，该事务所有操作的影响都将取消。

**事务特性：**

**1、** 原子性：即不可分割性，事务要么全部被执行，要么就全部不被执行。

**2、** 一致性或可串性。事务的执行使得数据库从一种正确状态转换成另一种正确状态

**3、** 隔离性。在事务正确提交之前，不允许把该事务对数据的任何改变提供给任何其他事务，

**4、** 持久性。事务正确提交后，其结果将永久保存在数据库中，即使在事务提交后有了其他故障，事务的处理结果也会得到保存。

**或者这样理解：**

事务就是被绑定在一起作为一个逻辑工作单元的SQL语句分组，如果任何一个语句操作失败那么整个操作就被失败，以后操作就会回滚到操作前状态，或者是上有个节点。为了确保要么执行，要么不执行，就可以使用事务。要将有组语句作为事务考虑，就需要通过ACID测试，即原子性，一致性，隔离性和持久性。


### 7、SQL语句的语法顺序：

**1、** SELECT

**2、** FROM

**3、** JOIN

4、ON

**5、** WHERE

**6、** GROUP BY

**7、** HAVING

**8、** UNION

**9、** ORDER BY

**10、**  LIMIT


### 8、你怎么看到为表格定义的所有索引？
### 9、非聚簇索引一定会回表查询吗？
### 10、MyISAM索引与InnoDB索引的区别？
### 11、主键和候选键有什么区别？
### 12、可以使用多少列创建索引？
### 13、为表中得字段选择合适得数据类型
### 14、数据库结构优化
### 15、何时使用聚簇索引与非聚簇索引
### 16、索引具体采用那种数据结构呢？
### 17、什么是幻读，脏读，不可重复读呢？
### 18、一条sql执行过长的时间，你如何优化，从哪些方面入手？
### 19、Hash索引和B+树区别是什么？你在设计索引是怎么抉择的？
### 20、limit 1000000 加载很慢的话，你是怎么解决的呢？
### 21、什么是游标？
### 22、试述视图的优点？
### 23、说说MySQL 的基础架构图
### 24、如何通俗地理解三个范式？
### 25、完整性约束包括哪些？
### 26、什么是索引？
### 27、列值为NULL时，查询是否会用到索引？
### 28、MySQL有关权限的表都有哪几个？
### 29、BLOB和TEXT有什么区别？




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
