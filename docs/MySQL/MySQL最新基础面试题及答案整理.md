# MySQL最新基础面试题及答案整理

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://github.com/souyunku/DevBooks/blob/master/docs/index.md)



### 1、说说MySQL 的基础架构图

![](https://user-gold-cdn.xitu.io/2020/5/23/17240afafdc289e5?w=661&h=500&f=png&s=289132#alt=)

**MySQL逻辑架构图主要分三层：**

**1、** 第一层负责连接处理，授权认证，安全等等

**2、** 第二层负责编译并优化SQL

**3、** 第三层是存储引擎。


### 2、MYSQL数据库服务器性能分析的方法命令有哪些?

Show status, 一些值得监控的变量值：

**1、** Bytes_received和Bytes_sent 和服务器之间来往的流量。

**2、** Com_*服务器正在执行的命令。

**3、** Created_*在查询执行期限间创建的临时表和文件。

**4、** Handler_*存储引擎操作。

**5、** Select_*不同类型的联接执行计划。

**6、** Sort_*几种排序信息。

Show profiles 是MySql用来分析当前会话SQL语句执行的资源消耗情况


### 3、数据库存储日期格式时，如何考虑时区转换问题？

datetime类型适合用来记录数据的原始的创建时间，修改记录中其他字段的值，datetime字段的值不会改变，除非手动修改它。

timestamp类型适合用来记录数据的最后修改时间，只要修改了记录中其他字段的值，timestamp字段的值都会被自动更新。


### 4、MySQL 分页

LIMIT 子句可以被用于强制 SELECT 语句返回指定的记录数。LIMIT 接受一个或两个数字参数。参数必须是一个整数常量。如果给定两个参数，第一个参数指定第一个返回记录行的偏移量，第二个参数指定返回记录行的最大数目。初始记录行的偏移量是 0(而不是 1)

`SELECT * FROM table LIMIT 5,10; // 检索记录行 6-15`

为了检索从某一个偏移量到记录集的结束所有的记录行，可以指定第二个参数为 -1：

`SELECT * FROM table LIMIT 95,-1; // 检索记录行 96-last.`

如果只给定一个参数，它表示返回最大的记录行数目：

`SELECT * FROM table LIMIT 5; //检索前 5 个记录行`

换句话说，LIMIT n 等价于 LIMIT 0,n。


### 5、索引的数据结构（b树，hash）

索引的数据结构和具体存储引擎的实现有关，在MySQL中使用较多的索引有**Hash索引**，**B+树索引**等，而我们经常使用的InnoDB存储引擎的默认索引实现为：B+树索引。对于哈希索引来说，底层的数据结构就是哈希表，因此在绝大多数需求为单条记录查询的时候，可以选择哈希索引，查询性能最快；其余大部分场景，建议选择BTree索引。

**B树索引**

MySQL通过存储引擎取数据，基本上90%的人用的就是InnoDB了，按照实现方式分，InnoDB的索引类型目前只有两种：BTREE（B树）索引和HASH索引。B树索引是MySQL数据库中使用最频繁的索引类型，基本所有存储引擎都支持BTree索引。通常我们说的索引不出意外指的就是（B树）索引（实际是用B+树实现的，因为在查看表索引时，MySQL一律打印BTREE，所以简称为B树索引）

![99_1.png][99_1.png]

**查询方式：**

**1、** 主键索引区:PI(关联保存的时数据的地址)按主键查询,

**2、** 普通索引区:si(关联的id的地址,然后再到达上面的地址)。所以按主键查询,速度最快

**B+tree性质：**

**1、** n棵子tree的节点包含n个关键字，不用来保存数据而是保存数据的索引。

**2、** 所有的叶子结点中包含了全部关键字的信息，及指向含这些关键字记录的指针，且叶子结点本身依关键字的大小自小而大顺序链接。

**3、** 所有的非终端结点可以看成是索引部分，结点中仅含其子树中的最大（或最小）关键字。

**4、** B+ 树中，数据对象的插入和删除仅在叶节点上进行。

**5、** B+树有2个头指针，一个是树的根节点，一个是最小关键码的叶节点。

**哈希索引**

简要说下，类似于数据结构中简单实现的HASH表（散列表）一样，当我们在MySQL中用哈希索引时，主要就是通过Hash算法（常见的Hash算法有直接定址法、平方取中法、折叠法、除数取余法、随机数法），将数据库字段数据转换成定长的Hash值，与这条数据的行指针一并存入Hash表的对应位置；如果发生Hash碰撞（两个不同关键字的Hash值相同），则在对应Hash键下以链表形式存储。当然这只是简略模拟图。

![99_2.png][99_2.png]


### 6、MySQL中有哪几种锁，列举一下？


**如果按锁粒度划分，有以下3种：**

**1、** 表锁： 开销小，加锁快；锁定力度大，发生锁冲突概率高，并发度最低;不会出现死锁。

**2、** 行锁： 开销大，加锁慢；会出现死锁；锁定粒度小，发生锁冲突的概率低，并发度高。

**3、** 页锁： 开销和加锁速度介于表锁和行锁之间；会出现死锁；锁定粒度介于表锁和行锁之间，并发度一般


### 7、隔离级别与锁的关系

**1、** 在Read Uncommitted级别下，读取数据不需要加共享锁，这样就不会跟被修改的数据上的排他锁冲突

**2、** 在Read Committed级别下，读操作需要加共享锁，但是在语句执行完以后释放共享锁；

**3、** 在Repeatable Read级别下，读操作需要加共享锁，但是在事务提交之前并不释放共享锁，也就是必须等待事务执行完毕以后才释放共享锁。

**4、** SERIALIZABLE 是限制性最强的隔离级别，因为该级别**锁定整个范围的键**，并一直持有锁，直到事务完成。


### 8、MySQL中都有哪些触发器？
### 9、从锁的类别上分MySQL都有哪些锁呢？
### 10、主键使用自增ID还是UUID，为什么？
### 11、MySQL 索引使用有哪些注意事项呢？
### 12、视图有哪些特点？哪些使用场景？
### 13、MySQL中有哪些不同的表格？
### 14、索引设计的原则？
### 15、如果要存储用户的密码散列，应该使用什么字段进行存储？
### 16、如何优化长难的查询语句
### 17、为什么要使用视图？什么是视图？
### 18、MySQL中DATETIME和TIMESTAMP的区别
### 19、列设置为AUTO INCREMENT时，如果在表中达到最大值，会发生什么情况？
### 20、你们数据库是否支持emoji表情存储，如果不支持，如何操作？
### 21、既然提到了InnoDB使用户的B+树的索引模型
### 22、MySQL中TEXT数据类型的最大长度
### 23、select for update有什么含义，会锁表还是锁行还是其他。
### 24、视图有哪些特点？哪些使用场景？
### 25、MySQL中DATETIME和TIMESTAMP的区别
### 26、B+ Tree索引和Hash索引区别？
### 27、如何在Unix和MySQL时间戳之间进行转换？
### 28、索引的底层实现
### 29、MySQL有关权限的表都有哪几个




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin-2.png)




## 最新，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")](https://www.souyunku.com/wp-content/uploads/weixin/githup-weixin.png "架构师专栏")
