# MySQL最新面试题，2021年面试题及答案汇总

### 其实，博主还整理了，更多大厂面试题，直接下载吧

### 下载链接：[高清172份，累计 7701 页大厂面试题  PDF](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)



### 1、MyISAM表格将在哪里存储，并且还提供其存储格式？

**每个MyISAM表格以三种格式存储在磁盘上：**

**1、** ·“.frm”文件存储表定义

**2、** ·数据文件具有“.MYD”（MYData）扩展名

**3、** 索引文件具有“.MYI”（MYIndex）扩展名


### 2、索引能干什么?

索引非常关键，尤其是当表中的数据量越来越大时，索引对于性能的影响愈发重要。 索引能够轻易将查询性能提高好几个数量级，总的来说就是可以明显的提高查询效率。


### 3、myisamchk是用来做什么的？

它用来压缩MyISAM表，这减少了磁盘或内存使用。


### 4、SQL的执行顺序

**1、** FROM：将数据从硬盘加载到数据缓冲区，方便对接下来的数据进行操作。

**2、** WHERE：从基表或视图中选择满足条件的元组。（不能使用聚合函数）

**3、** JOIN（如right left 右连接-------从右边表中读取某个元组，并且找到该元组在左边表中对应的元组或元组集）

**4、** ON：join on实现多表连接查询，推荐该种方式进行多表查询，不使用子查询。

**5、** GROUP BY：分组，一般和聚合函数一起使用。

**6、** HAVING：在元组的基础上进行筛选，选出符合条件的元组。（一般与GROUP BY进行连用）

**7、** SELECT：查询到得所有元组需要罗列的哪些列。

**8、** DISTINCT：去重的功能。

**9、** UNION：将多个查询结果合并（默认去掉重复的记录）。

**10、**  ORDER BY：进行相应的排序。

**11、**  LIMIT 1：显示输出一条数据记录（元组）


### 5、简单描述MySQL中，索引，主键，唯一索引，联合索引的区别，对数据库的性能有什么影响（从读写两方面）

索引是一种特殊的文件(InnoDB数据表上的索引是表空间的一个组成部分)，它们包含着对数据表里所有记录的引用指针。

普通索引(由关键字KEY或INDEX定义的索引)的唯一任务是加快对数据的访问速度。

普通索引允许被索引的数据列包含重复的值。如果能确定某个数据列将只包含彼此各不相同的值，在为这个数据列创建索引的时候就应该用关键字UNIQUE把它定义为一个唯一索引。也就是说，唯一索引可以保证数据记录的唯一性。

主键，是一种特殊的唯一索引，在一张表中只能定义一个主键索引，主键用于唯一标识一条记录，使用关键字 PRIMARY KEY 来创建。

索引可以覆盖多个数据列，如像INDEX(columnA, columnB)索引，这就是联合索引。

索引可以极大的提高数据的查询速度，但是会降低插入、删除、更新表的速度，因为在执行这些写操作时，还要操作索引文件。


### 6、优化子查询

**1、** 用关联查询替代

**2、** 优化GROUP BY和DISTINCT

**3、** 这两种查询据可以使用索引来优化，是最有效的优化方法

**4、** 关联查询中，使用标识列分组的效率更高

**5、** 如果不需要ORDER BY，进行GROUP BY时加ORDER BY NULL，MySQL不会再进行文件排序。

**6、** WITH ROLLUP超级聚合，可以挪到应用程序处理


### 7、MySQL存储引擎MyISAM与InnoDB区别

存储引擎Storage engine：MySQL中的数据、索引以及其他对象是如何存储的，是一套文件系统的实现。

**常用的存储引擎有以下：**

**Innodb引擎**：Innodb引擎提供了对数据库ACID事务的支持。并且还提供了行级锁和外键的约束。它的设计的目标就是处理大数据容量的数据库系统。

**MyIASM引擎**(原本MySQL的默认引擎)：不提供事务的支持，也不支持行级锁和外键。

**MEMORY引擎**：所有的数据都在内存中，数据的处理速度快，但是安全性不高。

**MyISAM与InnoDB区别**

| 比较 | MyISAM | Innodb |
| --- | --- | --- |
| 存储结构 | 每张表被存放在三个文件：frm-表格定义、MYD(MYData)-数据文件、MYI(MYIndex)-索引文件 | 所有的表都保存在同一个数据文件中（也可能是多个文件，或者是独立的表空间文件），InnoDB表的大小只受限于操作系统文件的大小，一般为2GB |
| 存储空间 | MyISAM可被压缩，存储空间较小 | InnoDB的表需要更多的内存和存储，它会在主内存中建立其专用的缓冲池用于高速缓冲数据和索引 |
| 可移植性、备份及恢复 | 由于MyISAM的数据是以文件的形式存储，所以在跨平台的数据转移中会很方便。在备份和恢复时可单独针对某个表进行操作 | 免费的方案可以是拷贝数据文件、备份 binlog，或者用 MySQLdump，在数据量达到几十G的时候就相对痛苦了 |
| 文件格式 | 数据和索引是分别存储的，数据`.MYD`，索引`.MYI` | 数据和索引是集中存储的，`.ibd` |
| 记录存储顺序 | 按记录插入顺序保存 | 按主键大小有序插入 |
| 外键 | 不支持 | 支持 |
| 事务 | 不支持 | 支持 |
| 锁支持（锁是避免资源争用的一个机制，MySQL锁对用户几乎是透明的） | 表级锁定 | 行级锁定、表级锁定，锁定力度小并发能力高 |
| SELECT | MyISAM更优 | -- |
| INSERT、UPDATE、DELETE | -- | InnoDB更优 |
| select count(*) | myisam更快，因为myisam内部维护了一个计数器，可以直接调取。 |  |
| 索引的实现方式 | B+树索引，myisam 是堆表 | B+树索引，Innodb 是索引组织表 |
| 哈希索引 | 不支持 | 支持 |
| 全文索引 | 支持 | 不支持 |



### 8、大表数据查询，怎么优化

**1、** 优化shema、sql语句+索引；

**2、** 第二加缓存，Memcached, Redis；

**3、** 主从复制，读写分离；

**4、** 垂直拆分，根据你模块的耦合度，将一个大的系统分为多个小的系统，也就是分布式系统；

**5、** 水平切分，针对数据量大的表，这一步最麻烦，最能考验技术水平，要选择一个合理的sharding key, 为了有好的查询效率，表结构也要改动，做一定的冗余，应用也要改，sql中尽量带sharding key，将数据定位到限定的表上去查，而不是扫描全部的表；


### 9、Blob和text有什么区别？

**1、** Blob用于存储二进制数据，而Text用于存储大字符串。

**2、** Blob值被视为二进制字符串（字节字符串）,它们没有字符集，并且排序和比较基于列值中的字节的数值。

**3、** text值被视为非二进制字符串（字符字符串）。它们有一个字符集，并根据字符集的排序规则对值进行排序和比较。


### 10、怎么查询SQL语句是否使用了索引查询？

使用explain查询SQL语句的执行计划，通过执行计划来分析索引的使用情况。


### 11、MySQL中int(20)和char(20)以及varchar(20)的区别
### 12、SQL的生命周期？
### 13、说说分库与分表的设计
### 14、简述有哪些索引和作用
### 15、可以使用多少列创建索引？
### 16、一条Sql的执行顺序？
### 17、MySQL中TEXT数据类型的最大长度
### 18、非主键索引一定会查询多次吗？
### 19、如果要存储用户的密码散列，应该使用什么字段进行存储？
### 20、对于关系型数据库而言，索引是相当重要的概念，请回答有关索引的几个问题：
### 21、MySQL自增主键用完了怎么办？
### 22、Myql中的事务回滚机制概述
### 23、存储引擎分类有哪些以及使用场景？
### 24、什么是存储过程？有哪些优缺点？
### 25、什么是通用SQL函数？
### 26、什么是非标准字符串类型？
### 27、覆盖索引、回表等这些，了解过吗？
### 28、组合索引是什么？为什么需要注意组合索引中的顺序？
### 29、完整性约束包括哪些？
### 30、索引的一些潜规则




## 全部答案，整理好了，直接下载吧

### 下载链接：[全部答案，整理好了](https://www.souyunku.com/?p=67)

### 一键直达：[https://www.souyunku.com/?p=67](https://www.souyunku.com/?p=67)


## 其他，高清PDF：172份，7701页，最新整理

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/mst.png "大厂面试题")](https://souyunku.lanzous.com/b0alp9b9g "大厂面试题")

## 关注公众号：架构师专栏，回复：“面试题”，即可

[![大厂面试题](https://www.souyunku.com/wp-content/uploads/weixin/jiagoushi.png "架构师专栏")](https://souyunku.lanzous.com/b0alp9b9g "架构师专栏")

## 关注公众号：架构师专栏，回复：“面试题”，即可
